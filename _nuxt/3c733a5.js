/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[6,3,4],{279:function(t,e,o){var content=o(282);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(82).default)("38e54436",content,!0,{sourceMap:!1})},280:function(t,e,o){var content=o(284);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(82).default)("6dc586aa",content,!0,{sourceMap:!1})},281:function(t,e,o){"use strict";o(279)},282:function(t,e,o){var n=o(81)(!1);n.push([t.i,".dos-icon[data-v-4be1dac6]{height:15px;vertical-align:text-top}.der-icon[data-v-4be1dac6],.dos-icon[data-v-4be1dac6]{width:auto;margin-bottom:0}.der-icon[data-v-4be1dac6]{height:20px;vertical-align:middle}.top-container[data-v-4be1dac6]{align-items:center}.flex-container[data-v-4be1dac6],.top-container[data-v-4be1dac6]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:flex-start;align-content:stretch}.flex-container[data-v-4be1dac6]{align-items:flex-start}.icon-container[data-v-4be1dac6],.text-container[data-v-4be1dac6]{order:0;flex:1 1 auto;align-self:auto}",""]),t.exports=n},283:function(t,e,o){"use strict";o(280)},284:function(t,e,o){var n=o(81)(!1);n.push([t.i,".layout-mapper[data-v-04de353d]{flex:1 0 auto;align-self:auto;background-color:#fff}.layout-mapper.loading[data-v-04de353d]{display:flex;justify-content:center;align-items:center}.mapboxgl-map[data-v-04de353d]{height:100%}",""]),t.exports=n},285:function(t,e,o){"use strict";o.r(e);var n=o(10),r=(o(63),o(83),o(14),o(30),o(40),o(34),o(41),o(51),o(2)),c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)};function l(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a}var d="undefined"!=typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys;function f(t,e,o){(o?Reflect.getOwnMetadataKeys(e,o):Reflect.getOwnMetadataKeys(e)).forEach((function(n){var r=o?Reflect.getOwnMetadata(n,e,o):Reflect.getOwnMetadata(n,e);o?Reflect.defineMetadata(n,r,t,o):Reflect.defineMetadata(n,r,t)}))}var i={__proto__:[]}instanceof Array;var s=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function h(t,e){void 0===e&&(e={}),e.name=e.name||t._componentTag||t.name;var o=t.prototype;Object.getOwnPropertyNames(o).forEach((function(t){if("constructor"!==t)if(s.indexOf(t)>-1)e[t]=o[t];else{var n=Object.getOwnPropertyDescriptor(o,t);void 0!==n.value?"function"==typeof n.value?(e.methods||(e.methods={}))[t]=n.value:(e.mixins||(e.mixins=[])).push({data:function(){var e;return(e={})[t]=n.value,e}}):(n.get||n.set)&&((e.computed||(e.computed={}))[t]={get:n.get,set:n.set})}})),(e.mixins||(e.mixins=[])).push({data:function(){return function(t,e){var o=e.prototype._init;e.prototype._init=function(){var e=this,o=Object.getOwnPropertyNames(t);if(t.$options.props)for(var n in t.$options.props)t.hasOwnProperty(n)||o.push(n);o.forEach((function(o){"_"!==o.charAt(0)&&Object.defineProperty(e,o,{get:function(){return t[o]},set:function(e){t[o]=e},configurable:!0})}))};var n=new e;e.prototype._init=o;var i={};return Object.keys(n).forEach((function(t){void 0!==n[t]&&(i[t]=n[t])})),i}(this,t)}});var n=t.__decorators__;n&&(n.forEach((function(t){return t(e)})),delete t.__decorators__);var c,l,h=Object.getPrototypeOf(t.prototype),v=h instanceof r.a?h.constructor:r.a,m=v.extend(e);return function(t,e,o){Object.getOwnPropertyNames(e).forEach((function(n){if(!u[n]){var r=Object.getOwnPropertyDescriptor(t,n);if(!r||r.configurable){var s,c,l=Object.getOwnPropertyDescriptor(e,n);if(!i){if("cid"===n)return;var d=Object.getOwnPropertyDescriptor(o,n);if(c=typeof(s=l.value),null!=s&&("object"===c||"function"===c)&&d&&d.value===l.value)return}Object.defineProperty(t,n,l)}}}))}(m,t,v),d&&(f(c=m,l=t),Object.getOwnPropertyNames(l.prototype).forEach((function(t){f(c.prototype,l.prototype,t)})),Object.getOwnPropertyNames(l).forEach((function(t){f(c,l,t)}))),m}var u={prototype:!0,arguments:!0,callee:!0,caller:!0};function v(t){return"function"==typeof t?h(t):function(e){return h(e,t)}}v.registerHooks=function(t){s.push.apply(s,t)};var m="undefined"!=typeof Reflect&&void 0!==Reflect.getMetadata;function y(t){return void 0===t&&(t={}),function(e,o){var n;!function(t,e,o){m&&(Array.isArray(t)||"function"==typeof t||void 0!==t.type||(t.type=Reflect.getMetadata("design:type",e,o)))}(t,e,o),(n=function(e,o){(e.props||(e.props={}))[o]=t},function(t,e,o){var r="function"==typeof t?t:t.constructor;r.__decorators__||(r.__decorators__=[]),"number"!=typeof o&&(o=void 0),r.__decorators__.push((function(t){return n(t,e)}))})(e,o)}}var x=/\B([A-Z])/g;function _(t){return t instanceof Promise||t&&"function"==typeof t.then}var w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return function(t,e){function o(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}(e,t),e.prototype.mounted=function(){this.map=this.mapInit(),this.addControls(this.map),this.registerMapEvents(this.map)},e.prototype.beforeDestroy=function(){this.map.remove()},e.prototype.mapInit=function(){return mapboxgl.accessToken=this.accessToken,Object.prototype.hasOwnProperty.call(this.mapOptions,"container")||(this.mapOptions.container="map"),new mapboxgl.Map(this.mapOptions)},e.prototype.registerMapEvents=function(t){var e=this,o=["error","load","remove","render","resize","webglcontextlost","webglcontextrestored","dataloading","data","tiledataloading","sourcedataloading","styledataloading","sourcedata","styledata","boxzoomcancel","boxzoomstart","boxzoomend","touchcancel","touchmove","touchend","touchstart","click","contextmenu","dblclick","mousemove","mouseup","mousedown","mouseout","mouseover","mouseenter","mouseleave","movestart","move","moveend","zoomstart","zoom","zoomend","rotatestart","rotate","rotateend","dragstart","drag","dragend","pitchstart","pitch","pitchend","wheel"],n=["touchcancel","touchend","touchstart","click","contextmenu","dblclick","mousemove","mouseup","mousedown","mouseout","mouseover","mouseenter","mouseleave"];if(Object.keys(this.$listeners).length){var r=function(r){var i=r.replace(/^map-/,"").split(":"),a=i[0],s=i[1];o.indexOf(a)>-1&&(s&&n.indexOf(a)>-1?t.on(a,s,(function(o){e.$emit(r,t,o)})):t.on(a,(function(o){e.$emit(r,t,o)})))};for(var i in this.$listeners)r(i)}},e.prototype.addControls=function(t){var e=this;if(this.navControl.show){var o=new mapboxgl.NavigationControl(this.navControl.options);t.addControl(o,this.navControl.position)}if(this.geolocateControl.show){var n=new mapboxgl.GeolocateControl(this.geolocateControl.options);t.addControl(n,this.geolocateControl.position);var r=["error","trackuserlocationstart","trackuserlocationend","geolocate"];if(Object.keys(this.$listeners).length){var i=function(t){var o=t.replace(/^geolocate-/,"");r.indexOf(o)>-1&&n.on(o,(function(o){o?e.$emit(t,n,o):e.$emit(t,n)}))};for(var a in this.$listeners)i(a)}}if(this.scaleControl.show){var s=new mapboxgl.ScaleControl(this.scaleControl.options);t.addControl(s,this.scaleControl.position)}if(this.fullscreenControl.show){var c=new mapboxgl.FullscreenControl;t.addControl(c,this.fullscreenControl.position)}},l([y({required:!0})],e.prototype,"accessToken",void 0),l([y({required:!0})],e.prototype,"mapOptions",void 0),l([y({default:function(){return{show:!0,position:"top-right",options:{}}}})],e.prototype,"navControl",void 0),l([y({default:function(){return{show:!1,position:"top-left",options:{}}}})],e.prototype,"geolocateControl",void 0),l([y({default:function(){return{show:!1,position:"top-left",options:{}}}})],e.prototype,"scaleControl",void 0),l([y({default:function(){return{show:!1,position:"top-right",options:{}}}})],e.prototype,"fullscreenControl",void 0),l([y({default:function(){return{show:!1,position:"top-right",options:{}}}})],e.prototype,"attributionControl",void 0),l([function(t,e,o){e=function(t){return t.replace(x,"-$1").toLowerCase()}(e);var n=o.value;o.value=function(){for(var t=this,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a=function(n){void 0!==n&&o.unshift(n),t.$emit.apply(t,[e].concat(o))},s=n.apply(this,o);return _(s)?s.then((function(t){a(t)})):a(s),s}}],e.prototype,"mapInit",null),l([v],e)}(r.a);"undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());const g=w;var O=function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:Object.prototype.hasOwnProperty.call(this.mapOptions,"container")?this.mapOptions.container:"map"}})};O._withStripped=!0;const C=function(t,e,o,n,r,i,a,s,c,p){"boolean"!=typeof a&&(s,s=a,a=!1);const u="function"==typeof o?o.options:o;let l;if(t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0),l)if(u.functional){const t=u.render;u.render=function(e,o){return l.call(o),t(e,o)}}else{const t=u.beforeCreate;u.beforeCreate=t?[].concat(t,l):[l]}return o}({render:O,staticRenderFns:[]},0,g,0,0,0,!1,void 0);var b,k={install:b=function(t){b.installed||(b.installed=!0,t.component("Mapbox",C))}},j=null;"undefined"!=typeof window&&(j=window.Vue),j&&j.use(k);var M={name:"BlockMapper",components:{Mapbox:C},data:function(){return{}},fetchOnServer:!1,fetch:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o,n,r,c,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("https://sheets.googleapis.com/v4/spreadsheets/".concat(t.googleSheetId,"/values/data?key=").concat(t.googleApiKey));case 3:o=e.sent,n=o.data.values[0],r=o.data.values[1],c=o.data.values.slice(2),l={},n.forEach((function(t,e){l[t]=r[e]})),d=[],c.forEach((function(t){var marker={};n.forEach((function(e,i){marker[e]=""!==t[i]?t[i]:null})),d.push(marker)})),t.$store.commit("sheet/commit",{keys:n,labels:l,values:d}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))()},computed:{mapboxApiKey:function(){return"pk.eyJ1IjoiZ3VpbGxlY3JvIiwiYSI6ImNsMzlsYnN6ODA2c3Yzamxyd2tsNDM0YnkifQ.OWQi9vVD_YkpJEbg4DNbnA"},googleSheetId:function(){return"1VnucjTE2zfFz2RNW4IlXdtQe7J3otRRlfLfipCSXU1k"},googleApiKey:function(){return"AIzaSyChIB-1qvxXGXbTHLa4xHqzobpcSTBnHlA"},mapboxOptions:function(){return{style:"mapbox://styles/guillecro/cl39dkt76002o14rq7lnvsz8z",center:["-65.95621","-38.42309"],zoom:"3.69"}},sheetData:function(){return this.$store.state.sheet.data},extraHeaders:function(){if(!this.sheetData)return[];var t=["title","latitude","longitude","color","original_latitud","original_longitud","google_maps_lat_long"],e=this.sheetData.keys.filter((function(e){return!t.includes(e)}));return e}},methods:{loaded:function(map){this.addPoints(map)},addPoints:function(map){var t=this;this.sheetData.values.forEach((function(e){if("-"!==e.latitude&&"-"!==e.longitude&&""!==e.latitude&&""!==e.longitude){var o="<h3>".concat(e.title,"</h3>");o+='<div class="the-marker-content">',t.extraHeaders.forEach((function(header){"Latitud"!==header&&"Longitud"!==header&&(o+='<p class="data-title">'.concat(t.sheetData.labels[header],'</p><p class="data-text">').concat(e[header]||"<i>- No Data -</i>","</p>"))})),o+="</div>";var n=(new mapboxgl.Popup).setHTML(o),r=document.createElement("div");r.className="custom-marker",r.style.background=e.color,r.style["border-radius"]="40px",r.style.border="2px solid #FFFFFF",r.style.width="16px",r.style.height="16px",new mapboxgl.Marker(r).setLngLat([e.longitude,e.latitude]).setPopup(n).addTo(map)}}))}}},P=M,R=(o(283),o(50)),component=Object(R.a)(P,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"layout-mapper",class:{loading:t.$fetchState.pending}},[t.$fetchState.pending?o("div",{staticClass:"has-text-primary"},[t._v("\n    Cargando "),o("i",{staticClass:"fas fa-sync fa-spin"})]):o("mapbox",{ref:"theMap",attrs:{"access-token":t.mapboxApiKey,"map-options":t.mapboxOptions},on:{"map-load":t.loaded}})],1)}),[],!1,null,"04de353d",null);e.default=component.exports},286:function(t,e,o){"use strict";o.r(e);var n={name:"BlockNavbar",computed:{sheetId:function(){return"1VnucjTE2zfFz2RNW4IlXdtQe7J3otRRlfLfipCSXU1k"},sheetData:function(){return this.$store.state.sheet.data}}},r=(o(281),o(50)),component=Object(r.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"layout-top"},[o("div",{staticClass:"top-container"},[o("div",{staticClass:"icon-container"},[o("nuxt-link",{staticClass:"has-text-white",attrs:{to:"/"}},[o("i",{staticClass:"fas fa-home"}),t._v(" Inicio\n      ")])],1),t._v(" "),t.sheetData?o("p",[o("i",{staticClass:"fas fa-location-dot"}),t._v(" Puntos: "+t._s(t.sheetData.values.length)+"   ")]):t._e(),t._v(" "),o("div",{staticClass:"text-container"},[o("p",{staticClass:"has-text-right"},[o("i",{staticClass:"fas fa-table"}),t._v(" Spreadsheet  \n        "),o("a",{staticClass:"has-text-white",attrs:{href:"https://docs.google.com/spreadsheets/d/"+t.sheetId,target:"_blank"}},[o("i",{staticClass:"fas fa-external-link-alt"})])])])])])}),[],!1,null,"4be1dac6",null);e.default=component.exports},287:function(t,e,o){var content=o(290);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(82).default)("2c87633c",content,!0,{sourceMap:!1})},289:function(t,e,o){"use strict";o(287)},290:function(t,e,o){var n=o(81)(!1);n.push([t.i,".layout-container[data-v-4c59e574]{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;align-content:flex-start;align-items:stretch;height:100vh}",""]),t.exports=n},293:function(t,e,o){"use strict";o.r(e);var n=o(286),r=o(285),c={name:"TheMap",components:{Navbar:n.default,Mapper:r.default}},l=(o(289),o(50)),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"layout-container"},[o("Navbar"),t._v(" "),o("Mapper")],1)}),[],!1,null,"4c59e574",null);e.default=component.exports;installComponents(component,{Navbar:o(286).default,Mapper:o(285).default})}}]);